# Diagram Templates

## Overview

Copy and adapt these templates for your system design interviews.

## Basic Web Application

```
┌─────────────────────────────────────────────────────────────────┐
│                    BASIC WEB APPLICATION                         │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│    ┌────────┐                                                   │
│    │ Client │                                                   │
│    │(Browser)│                                                   │
│    └───┬────┘                                                   │
│        │                                                         │
│        ▼                                                         │
│    ┌────────────────┐                                           │
│    │      CDN       │  (Static assets)                          │
│    └────────┬───────┘                                           │
│             │                                                    │
│             ▼                                                    │
│    ┌────────────────┐                                           │
│    │ Load Balancer  │                                           │
│    └────────┬───────┘                                           │
│             │                                                    │
│        ┌────┴────┐                                              │
│        ▼         ▼                                              │
│    ┌───────┐ ┌───────┐                                         │
│    │ Web 1 │ │ Web 2 │  (Application Servers)                  │
│    └───┬───┘ └───┬───┘                                         │
│        │         │                                               │
│        └────┬────┘                                              │
│             │                                                    │
│        ┌────┴────┐                                              │
│        ▼         ▼                                              │
│    ┌───────┐ ┌───────┐                                         │
│    │ Cache │ │  DB   │                                          │
│    │(Redis)│ │Primary│                                          │
│    └───────┘ └───┬───┘                                         │
│                  │                                               │
│                  ▼                                               │
│              ┌───────┐                                          │
│              │  DB   │                                          │
│              │Replica│                                          │
│              └───────┘                                          │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

## Microservices Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                    MICROSERVICES                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│    ┌────────┐                                                   │
│    │ Client │                                                   │
│    └───┬────┘                                                   │
│        │                                                         │
│        ▼                                                         │
│    ┌────────────────┐                                           │
│    │  API Gateway   │                                           │
│    │ (Auth, Rate    │                                           │
│    │  Limiting)     │                                           │
│    └───────┬────────┘                                           │
│            │                                                     │
│    ┌───────┼───────┬───────────┐                               │
│    │       │       │           │                                │
│    ▼       ▼       ▼           ▼                                │
│ ┌──────┐┌──────┐┌──────┐ ┌──────────┐                          │
│ │Svc A ││Svc B ││Svc C │ │ Svc D    │                          │
│ └──┬───┘└──┬───┘└──┬───┘ └────┬─────┘                          │
│    │       │       │          │                                 │
│    ▼       ▼       ▼          │                                 │
│ ┌──────┐┌──────┐┌──────┐      │                                │
│ │ DB A ││ DB B ││ DB C │      │                                │
│ └──────┘└──────┘└──────┘      │                                 │
│                               │                                  │
│    ┌──────────────────────────┘                                 │
│    │                                                             │
│    ▼                                                             │
│ ══════════════════════════                                      │
│ │    Message Queue        │                                     │
│ │    (Kafka/RabbitMQ)     │                                     │
│ ══════════════════════════                                      │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

## Read-Heavy System

```
┌─────────────────────────────────────────────────────────────────┐
│                    READ-HEAVY SYSTEM                             │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│    ┌────────┐                                                   │
│    │ Client │                                                   │
│    └───┬────┘                                                   │
│        │                                                         │
│        ▼                                                         │
│    ┌────────────────┐                                           │
│    │      CDN       │  ← L1 Cache (Edge)                        │
│    └────────┬───────┘                                           │
│             │ Miss                                               │
│             ▼                                                    │
│    ┌────────────────┐                                           │
│    │ Load Balancer  │                                           │
│    └────────┬───────┘                                           │
│             │                                                    │
│             ▼                                                    │
│    ┌────────────────┐                                           │
│    │  App Servers   │                                           │
│    └────────┬───────┘                                           │
│             │                                                    │
│             ▼                                                    │
│    ┌────────────────┐                                           │
│    │  Redis Cache   │  ← L2 Cache (Distributed)                 │
│    └────────┬───────┘                                           │
│             │ Miss                                               │
│             ▼                                                    │
│    ┌────────────────────────────────────────┐                   │
│    │           Read Replicas                 │                   │
│    │  ┌──────┐  ┌──────┐  ┌──────┐         │                   │
│    │  │ R1   │  │ R2   │  │ R3   │         │                   │
│    │  └──────┘  └──────┘  └──────┘         │                   │
│    └────────────────┬───────────────────────┘                   │
│                     │ Replication                                │
│                     ▼                                            │
│              ┌──────────┐                                       │
│              │  Master  │  (Writes only)                        │
│              └──────────┘                                       │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

## Write-Heavy System

```
┌─────────────────────────────────────────────────────────────────┐
│                    WRITE-HEAVY SYSTEM                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│    ┌────────┐                                                   │
│    │ Client │                                                   │
│    └───┬────┘                                                   │
│        │                                                         │
│        ▼                                                         │
│    ┌────────────────┐                                           │
│    │  API Gateway   │                                           │
│    └────────┬───────┘                                           │
│             │                                                    │
│             ▼                                                    │
│    ══════════════════════════                                   │
│    │    Write Queue         │  (Buffer writes)                  │
│    │    (Kafka)             │                                   │
│    ══════════════════════════                                   │
│             │                                                    │
│             ▼                                                    │
│    ┌────────────────┐                                           │
│    │  Write Workers │  (Batch processing)                       │
│    └────────┬───────┘                                           │
│             │                                                    │
│             ▼                                                    │
│    ┌────────────────────────────────────────┐                   │
│    │           Sharded Database              │                   │
│    │  ┌──────┐  ┌──────┐  ┌──────┐         │                   │
│    │  │Shard1│  │Shard2│  │Shard3│         │                   │
│    │  │ A-H  │  │ I-P  │  │ Q-Z  │         │                   │
│    │  └──────┘  └──────┘  └──────┘         │                   │
│    └────────────────────────────────────────┘                   │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

## Real-Time System

```
┌─────────────────────────────────────────────────────────────────┐
│                    REAL-TIME SYSTEM                              │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│    ┌────────┐        ┌────────┐                                 │
│    │Client A│        │Client B│                                 │
│    └───┬────┘        └───┬────┘                                 │
│        │   WebSocket     │                                       │
│        └────────┬────────┘                                      │
│                 │                                                │
│                 ▼                                                │
│    ┌─────────────────────────────────┐                          │
│    │      WebSocket Servers          │                          │
│    │  ┌─────┐  ┌─────┐  ┌─────┐     │                          │
│    │  │ WS1 │  │ WS2 │  │ WS3 │     │                          │
│    │  └──┬──┘  └──┬──┘  └──┬──┘     │                          │
│    └─────┼────────┼───────┼─────────┘                          │
│          │        │       │                                      │
│          └────────┼───────┘                                     │
│                   │                                              │
│                   ▼                                              │
│    ┌─────────────────────────────────┐                          │
│    │        Pub/Sub (Redis)          │                          │
│    │     Channel: room:123           │                          │
│    └─────────────────────────────────┘                          │
│                   │                                              │
│                   ▼                                              │
│    ┌─────────────────────────────────┐                          │
│    │      Message Persistence        │                          │
│    │         (Database)              │                          │
│    └─────────────────────────────────┘                          │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

## Event-Driven Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                    EVENT-DRIVEN                                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  Producers                                                       │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐                         │
│  │Order Svc│  │User Svc │  │Pay Svc  │                         │
│  └────┬────┘  └────┬────┘  └────┬────┘                         │
│       │            │            │                                │
│       └────────────┼────────────┘                               │
│                    │                                             │
│                    ▼                                             │
│    ┌─────────────────────────────────────────┐                  │
│    │              EVENT BUS                   │                  │
│    │  ┌─────────────────────────────────┐    │                  │
│    │  │ Topics:                         │    │                  │
│    │  │  - order.created                │    │                  │
│    │  │  - order.completed              │    │                  │
│    │  │  - payment.processed            │    │                  │
│    │  └─────────────────────────────────┘    │                  │
│    └───────────────────┬─────────────────────┘                  │
│                        │                                         │
│       ┌────────────────┼────────────────┐                       │
│       │                │                │                        │
│       ▼                ▼                ▼                        │
│  ┌─────────┐     ┌─────────┐     ┌─────────┐                   │
│  │Email Svc│     │Analytics│     │Inventory│                   │
│  └─────────┘     └─────────┘     └─────────┘                   │
│  Consumers                                                       │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

## Database Sharding

```
┌─────────────────────────────────────────────────────────────────┐
│                    DATABASE SHARDING                             │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│    ┌────────────────┐                                           │
│    │   Application  │                                           │
│    └────────┬───────┘                                           │
│             │                                                    │
│             ▼                                                    │
│    ┌────────────────────┐                                       │
│    │   Shard Router     │                                       │
│    │ hash(user_id) % N  │                                       │
│    └─────────┬──────────┘                                       │
│              │                                                   │
│    ┌─────────┼─────────┬─────────┐                             │
│    │         │         │         │                              │
│    ▼         ▼         ▼         ▼                              │
│ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐                            │
│ │Shard0│ │Shard1│ │Shard2│ │Shard3│                            │
│ │0-24% │ │25-49%│ │50-74%│ │75-99%│                            │
│ └──┬───┘ └──┬───┘ └──┬───┘ └──┬───┘                            │
│    │        │        │        │                                 │
│    ▼        ▼        ▼        ▼                                 │
│ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐                            │
│ │Replica│ │Replica│ │Replica│ │Replica│                         │
│ └──────┘ └──────┘ └──────┘ └──────┘                            │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

## Multi-Region Deployment

```
┌─────────────────────────────────────────────────────────────────┐
│                    MULTI-REGION                                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│    ┌────────────────────────────────┐                           │
│    │        Global DNS              │                           │
│    │  (Route to nearest region)     │                           │
│    └───────────────┬────────────────┘                           │
│                    │                                             │
│    ┌───────────────┼───────────────┐                            │
│    │               │               │                             │
│    ▼               ▼               ▼                             │
│ ┌──────────┐  ┌──────────┐  ┌──────────┐                       │
│ │ US-East  │  │ EU-West  │  │ AP-South │                       │
│ │ Region   │  │ Region   │  │ Region   │                       │
│ │          │  │          │  │          │                       │
│ │ ┌──────┐ │  │ ┌──────┐ │  │ ┌──────┐ │                       │
│ │ │ App  │ │  │ │ App  │ │  │ │ App  │ │                       │
│ │ └──────┘ │  │ └──────┘ │  │ └──────┘ │                       │
│ │ ┌──────┐ │  │ ┌──────┐ │  │ ┌──────┐ │                       │
│ │ │ DB   │ │  │ │ DB   │ │  │ │ DB   │ │                       │
│ │ └──────┘ │  │ └──────┘ │  │ └──────┘ │                       │
│ └────┬─────┘  └────┬─────┘  └────┬─────┘                       │
│      │             │             │                               │
│      └─────────────┼─────────────┘                              │
│                    │                                             │
│           Cross-Region Replication                              │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

## Component Library

### Clients
```
┌────────┐   ┌────────┐   ┌────────┐
│ Web    │   │ Mobile │   │  IoT   │
│Browser │   │  App   │   │ Device │
└────────┘   └────────┘   └────────┘
```

### Load Balancers
```
┌────────────────┐       ┌────────────────┐
│  L4 (TCP/UDP)  │       │  L7 (HTTP)     │
│  Load Balancer │       │  Load Balancer │
└────────────────┘       └────────────────┘
```

### Databases
```
┌──────────┐   ┌──────────┐   ┌──────────┐
│ SQL      │   │ NoSQL    │   │ Cache    │
│ ═══════  │   │ { }      │   │ ░░░░░░░  │
└──────────┘   └──────────┘   └──────────┘
```

### Message Queues
```
══════════════════════
│ │ │ │ │ │ │ │ │ │ │
══════════════════════
    Message Queue
```

### Services
```
┌─────────────┐   ┌─────────────┐
│  Stateless  │   │  Stateful   │
│  Service    │   │  Service    │
└─────────────┘   └─────────────┘
```

## Tips for Drawing

1. **Start high-level** - Add detail as you discuss
2. **Label everything** - Components, arrows, data flows
3. **Show data flow direction** - Use arrows
4. **Group related components** - Use boxes
5. **Leave space** - You'll need to add things
6. **Use consistent symbols** - Throughout your diagram

## Key Takeaways

- Have templates ready in your mind
- Practice drawing quickly and clearly
- Always show the complete data flow
- Label your components
- Be ready to zoom in on any component
